# define complier type
CC = gcc
# compile options setting
CFLAGS = -O2 -static
# library link & option setting
LDFLAGS = 

SUBDIRS = modules
clean_subdirs:
	@for dir in $(SUBDIRS); do \
		$(MAKE) -C $$dir clean; \
	done

exploit: exploit.c modules/msg_msg.o modules/helper.o
	$(CC) $(CFLAGS) $^ -o $@ $(LDFLAGS)

all:
	$(MAKE) exploit

clean:
	$(MAKE) clean_subdirs
	rm -f *.o exploit